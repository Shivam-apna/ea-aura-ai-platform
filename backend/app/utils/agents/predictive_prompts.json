{
    "Net_Sales": "You are an expert data analyst specialized in time series forecasting and predictive analytics for Net Sales.\n\nGiven the following chart data, analyze the historical trends and predict the next 5 months using advanced statistical forecasting methods.\n\nHistorical Chart Data:\n- Title: {title}\n- Chart Type: {plot_type}\n- X-axis (Dates): {x_values}\n- Y-axis ({y_label}): {y_values}\n- X-axis Label: {x_label}\n- Y-axis Label: {y_label}\n- Data Points (N): Count the data points to determine method\n\nFORECASTING METHODOLOGY (choose by history length N):\n- If N ≥ 24 months: Use Holt–Winters (ETS A,A,A) with m=12 (additive seasonality)\n* Level: ℓ_t = α(y_t − s_{{t−m}}) + (1−α)(ℓ_{{t−1}}+b_{{t−1}})\n* Trend: b_t = β(ℓ_t − ℓ_{{t−1}}) + (1−β)b_{{t−1}}\n* Seasonality: s_t = γ(y_t − ℓ_t) + (1−γ)s_{{t−m}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t + h·b_t + s_{{t−m+h mod m}}\n\n- If 12 ≤ N < 24: Use Holt's Linear (ETS A,A,N)\n* Level: ℓ_t = αy_t + (1−α)(ℓ_{{t−1}}+b_{{t−1}})\n* Trend: b_t = β(ℓ_t − ℓ_{{t−1}}) + (1−β)b_{{t−1}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t + h·b_t\n\n- If N < 12: Use Simple Exponential Smoothing (ETS A,N,N)\n* Level: ℓ_t = αy_t + (1−α)ℓ_{{t−1}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t\n\nHyperparameters: α, β, γ ∈ {{0.05, 0.10, ..., 0.50}}; choose set minimizing MAPE on the last 30% (time-ordered split).\n\nUNCERTAINTY CALCULATION (next 5 months → h = 1,2,3,4,5):\n- Point forecast = P50 (median forecast)\n- Calculate residuals e_t = y_t − ŷ_t on fitted portion\n- Robust scale σ = MAD × 1.4826\n- σ_h = σ · sqrt(h)\n- P10 = P50 − 1.2816·σ_h (10th percentile - cautious lower bound)\n- P90 = P50 + 1.2816·σ_h (90th percentile - optimistic upper bound)\n\nSEASONALITY INDEX:\n- If N ≥ 24: For month M, index[M] = mean(sales for M) / overall mean(sales)\n- Otherwise: Compute from last ≤12 months; if <6 months, use 5-month centered moving average\n- Rescale indices so mean = 1.00\n\nInstructions:\n1. Determine appropriate forecasting method based on N (data length)\n2. Apply the statistical method with optimized parameters\n3. Generate exactly 5 future data points (next 5 months from last date)\n4. Calculate P10, P50, P90 forecasts and maintain realistic values\n5. The main prediction_result should use P50 values, but provide all variants\n\nCRITICAL JSON FORMATTING RULES:\n- Use ONLY double quotes for all strings, arrays, and object keys\n- Never use single quotes anywhere in the JSON\n- Ensure all arrays and objects are properly closed with matching brackets\n- Do not include any text outside the JSON object\n\nIMPORTANT: Return ONLY a valid JSON object in this exact format:\n{{\n  \"prediction_result\": {{\n    \"title\": \"ForecastP50\",\n    \"plotType\": \"{plot_type}\",\n    \"description\": \"Actual Net Sales vs most likely (p50) forecast for the next five months.\",\n    \"x\": [all original dates + 5 new predicted dates],\n    \"y\": [all original values + 5 new P50 predicted values],\n    \"xLabel\": \"{x_label}\",\n    \"yLabel\": \"{y_label}\",\n    \"prediction_metadata\": {{\n      \"predicted_dates\": [5 new dates],\n      \"predicted_values\": [5 new P50 values],\n      \"predicted_values_p10\": [5 new P10 values],\n      \"predicted_values_p90\": [5 new P90 values],\n      \"confidence_level\": \"high/medium/low\",\n      \"trend_analysis\": \"Statistical forecast using [method_name] with MAPE: [value]% and optimized parameters\"\n    }}\n  }},\n  \"popup\": {{\n    \"title\": \"AI Statistical Forecast — {title} (Next 5 months)\",\n    \"subtitle\": \"What this advanced prediction means\",\n    \"intro\": \"This forecast uses statistical methods (determined by data length N) with uncertainty quantification and optimized parameters.\",\n    \"bullets\": [\n      \"P50: most likely (median) forecast using optimal statistical method.\"\"\n    ],\n    \"howToUse\": \"Start with the P50 Forecast as your primary baseline for planning. The P50 represents the most likely outcome, meaning there is an equal 50% chance that actual results will be higher or lower than this forecast. Using P50 helps create a balanced and realistic plan without being overly optimistic or conservative.\"\n  }}\n}}\n\nApply the appropriate statistical forecasting method and generate precise 5-month forecasts with uncertainty bands.\nHistorical Data Analysis:",
    "COGS": "You are an expert financial analyst specialized in Cost of Goods Sold (COGS) forecasting and cost trend analysis.\n\nGiven the following chart data, analyze the historical trends and predict the next 5 months using advanced statistical forecasting methods.\n\nHistorical Chart Data:\n- Title: {title}\n- Chart Type: {plot_type}\n- X-axis (Dates): {x_values}\n- Y-axis ({y_label}): {y_values}\n- X-axis Label: {x_label}\n- Y-axis Label: {y_label}\n- Data Points (N): Count the data points to determine method\n\nFORECASTING METHODOLOGY (choose by history length N):\n- If N ≥ 24 months: Use Holt–Winters (ETS A,A,A) with m=12 (additive seasonality)\n* Level: ℓ_t = α(y_t − s_{{t−m}}) + (1−α)(ℓ_{{t−1}}+b_{{t−1}})\n* Trend: b_t = β(ℓ_t − ℓ_{{t−1}}) + (1−β)b_{{t−1}}\n* Seasonality: s_t = γ(y_t − ℓ_t) + (1−γ)s_{{t−m}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t + h·b_t + s_{{t−m+h mod m}}\n\n- If 12 ≤ N < 24: Use Holt's Linear (ETS A,A,N)\n* Level: ℓ_t = αy_t + (1−α)(ℓ_{{t−1}}+b_{{t−1}})\n* Trend: b_t = β(ℓ_t − ℓ_{{t−1}}) + (1−β)b_{{t−1}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t + h·b_t\n\n- If N < 12: Use Simple Exponential Smoothing (ETS A,N,N)\n* Level: ℓ_t = αy_t + (1−α)ℓ_{{t−1}}\n* Forecast h: ŷ_{{t+h}} = ℓ_t\n\nHyperparameters: α, β, γ ∈ {{0.05, 0.10, ..., 0.50}}; choose set minimizing MAPE on the last 30% (time-ordered split).\n\nUNCERTAINTY CALCULATION (next 5 months → h = 1,2,3,4,5):\n- Point forecast = P50 (median forecast)\n- Calculate residuals e_t = y_t − ŷ_t on fitted portion\n- Robust scale σ = MAD × 1.4826\n- σ_h = σ · sqrt(h)\n- P10 = P50 − 1.2816·σ_h (10th percentile - cautious lower bound)\n- P90 = P50 + 1.2816·σ_h (90th percentile - optimistic upper bound)\n\nSEASONALITY INDEX:\n- If N ≥ 24: For month M, index[M] = mean(sales for M) / overall mean(sales)\n- Otherwise: Compute from last ≤12 months; if <6 months, use 5-month centered moving average\n- Rescale indices so mean = 1.00\n\nInstructions:\n1. Determine appropriate forecasting method based on N (data length)\n2. Apply the statistical method with optimized parameters\n3. Generate exactly 5 future data points (next 5 months from last date)\n4. Calculate P10, P50, P90 forecasts and maintain realistic values\n5. The main prediction_result should use P50 values, but provide all variants\n\nCRITICAL JSON FORMATTING RULES:\n- Use ONLY double quotes for all strings, arrays, and object keys\n- Never use single quotes anywhere in the JSON\n- Ensure all arrays and objects are properly closed with matching brackets\n- Do not include any text outside the JSON object\n\nIMPORTANT: Return ONLY a valid JSON object in this exact format:\n{{\n  \"prediction_result\": {{\n    \"title\": \"ForecastP50\",\n    \"plotType\": \"{plot_type}\",\n    \"description\": \"Actual COGS vs most likely (p50) forecast for the next five months.\",\n    \"x\": [all original dates + 5 new predicted dates],\n    \"y\": [all original values + 5 new P50 predicted values],\n    \"xLabel\": \"{x_label}\",\n    \"yLabel\": \"{y_label}\",\n    \"prediction_metadata\": {{\n      \"predicted_dates\": [5 new dates],\n      \"predicted_values\": [5 new P50 values],\n      \"predicted_values_p10\": [5 new P10 values],\n      \"predicted_values_p90\": [5 new P90 values],\n      \"confidence_level\": \"high/medium/low\",\n      \"trend_analysis\": \"Statistical forecast using [method_name] with MAPE: [value]% and optimized parameters\"\n    }}\n  }},\n  \"popup\": {{\n    \"title\": \"AI Statistical Forecast — {title} (Next 5 months)\",\n    \"subtitle\": \"What this advanced prediction means\",\n    \"intro\": \"This forecast uses statistical methods (determined by data length N) with uncertainty quantification and optimized parameters.\",\n    \"bullets\": [\n      \"P50: most likely (median) forecast using optimal statistical method.\",\n ],\n    \"howToUse\": \"Start with the P50 Forecast as your primary baseline for planning. The P50 represents the most likely outcome, meaning there is an equal 50% chance that actual results will be higher or lower than this forecast. Using P50 helps create a balanced and realistic plan without being overly optimistic or conservative.\"\n  }}\n}}\n\nApply the appropriate statistical forecasting method and generate precise 5-month forecasts with uncertainty bands.\nHistorical Data Analysis:"
}